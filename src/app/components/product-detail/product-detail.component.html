<div class="modal-dialog modal-fullscreen modal-dialog-centered">
    <div class="modal-content">
        <div class="modal-header">
            <!-- <h5 class="modal-title" id="productModalLabel">{{product.name}}</h5> -->
            <button (click)="closeModal()" type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <!-- Modal içi -->
            <div class="row frame justify-content-center">
                <!-- Üst satır -->
                <div class="row frame justify-content-between justify-content-center">
                    <div class="col-md-3 frame"><img src="{{image.imageUrl}}" alt="ürün fotoğrafı"
                            class="img-fluid product-image"></div>
                    <div class="col-md-9 frame">
                        <div class="row frame">
                            <div class="col-md-9 frame"><h3 class="bold" id="productModalLabel">{{product.name}}</h3></div>
                            <div class="col-md-3 frame">
                                <div class="custom-progress">
                                    <div class="progress" role="progressbar" aria-label="Warning example" aria-valuenow="75"
                                        aria-valuemin="0" aria-valuemax="100">
                                        <div class="progress-bar bg-warning text-dark" [style.width.%]="starsAvg">
                                            {{starsAvg}}%</div>
                                    </div>
                                    <p class="text-center" style="color: #fbc634; font-size: 24px;">({{userCount + "
                                        kullanıcı"}})</p>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <h3>Ürün Özellikleri</h3>
                        {{product.description}}
                    </div>
                </div>
                <!-- Üst satır -->
                <hr>
                <!-- Yorumlar -->
                <div
                    class="row d-flex flex-column flex-md-row p-4 gap-4 py-md-5 align-items-center justify-content-center frame ">
                    <div class="list-group">
                        <div *ngFor="let comment of comments"
                            class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
                            <img src="assets/e.png" alt="twbs" width="32" height="32"
                                class="rounded-circle flex-shrink-0">
                            <div class="d-flex gap-2 w-100 justify-content-between">
                                <div>
                                    <h6 class="mb-0 d-flex align-items-center">
                                        {{comment.name}}
                                        (<div class="star-rating ml-2 d-flex align-items-center">
                                            {{ generateStars(comment.starCount) }}
                                        </div>)
                                    </h6>
                                    <p class="mb-0 opacity-75">{{comment.commentDescription}}</p>
                                </div>
                                <small class="opacity-50 text-nowrap">{{formatDate(comment.createdDate)}}</small>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Yorumlar -->
                <hr>
                <!-- Form Alanı -->
                <div class=" row frame d-flex  justify-content-center">
                    <div class="ml-6 col-md-8 mb-3 frame ">
                        <div class="col-md-12 text-center">
                            <p *ngIf="!loginInfo">Ürünleri yorumlamak için giriş yapmalısınız</p>
                        </div>
                        <form [formGroup]="commentAddForm" class="d-flex">
                            <div class="col-md-1"></div>
                            <div class="col-md-8 frame d-flex align-items-start">
                                <img src="assets/e.png" alt="twbs" width="64" height="64"
                                    class="rounded-circle flex-shrink-0 mr-3">
                                <textarea [(ngModel)]="myText" formControlName="commentDescription"
                                    id="commentDescription" class="form-control resize-none" aria-label="With textarea"
                                    style="width: 100%; height: 200px;"></textarea>
                            </div>
                            <div
                                class="col-md-2 mb-3 frame d-flex flex-column align-items-center justify-content-center">
                                <div class="row mb-3 frame">
                                    <ngb-rating id="starCount" formControlName="starCount" [(rate)]="selectedRating"
                                        [max]="5"
                                        class="custom-rating center d-flex align-items-center justify-content-center"></ngb-rating>
                                </div>
                                <div class="row frame">
                                    <button (click)="add()" [disabled]="!loginInfo"
                                        class="btn btn-success ml-auto">Yorumla</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- Form Alanı -->
            </div>
            <!-- Modal içi -->
        </div>
        <div class="modal-footer">
            <!-- Footer -->
        </div>

    </div>
</div>